{
    "$schema": "http://json-schema.org/draft-07/schema",
    "title": "Spells",
    "type": "object",
    "properties": {
        "Spells": {
            "title": "Spell Map",
            "additionalProperties": false,
            "propertyNames": {
                "$ref": "./enums/spell-names.schema.json"
            },
            "patternProperties": {
                "^.+$": {
                    "type": "object",
                    "$ref": "spells.schema.json#/definitions/Spell"
                }
            }
        }
    },
    "required": ["Spells"],
    "definitions": {
        "Spell": {
            "title": "Spell",
            "description": "Schema for Spell items.",
            "allOf": [{"$ref": "item.schema.json"}],
            "properties": {
                "name": {
                    "#comment": "Override list of possible names to be Spell names only.",
                    "$ref": "./enums/spell-names.schema.json"
                },
                "fp_cost": {
                    "description": "Cost of FP to cast.",
                    "type": "integer",
                    "default": 0,
                    "minimum": 0
                },
                "fp_cost_extra": {
                    "description": "Additional cost of FP for a charged/continued attack. This is on top of the regular cost, not the full cost. Must be 0 for non-holdable spells.",
                    "type": "integer",
                    "minimum": 0
                },
                "sp_cost": {
                    "description": "Cost of stamina to cast.",
                    "type": "integer",
                    "minimum": 0
                },
                "sp_cost_extra": {
                    "description": "Additional cost of stamina for a charged/continued attack. This is on top of the regular cost, not the full cost. Must be 0 for non-holdable spells.",
                    "type": "integer",
                    "minimum": 0
                },
                "type": {
                    "description": "Spell type, either Incantation or Sorcery.",
                    "type": "string",
                    "enum": ["Incantation", "Sorcery"]
                },
                "slots_used": {
                    "description": "Specifies the number of Memory Slots occupied.",
                    "type": "integer",
                    "minimum": 1
                },
                "hold_action": {
                    "description": "Defines the behavior of the spell when the cast is held.",
                    "type": "string",
                    "enum": ["None", "Charge", "Continuous"],
                    "default": "None"
                },
                "is_weapon_buff": {
                    "description": "Specifies whether the spell buffs a right handed weapon.",
                    "type": "boolean",
                    "default": false
                },
                "is_shield_buff": {
                    "description": "Specifies whether the spell buffs a left handed shield.",
                    "type": "boolean",
                    "default": false
                },
                "is_horseback_castable": {
                    "description": "Specifies whether the spell can be cast while on horseback.",
                    "type": "boolean",
                    "default": true
                },
                "requirements": {
                    "description": "An object of attribute requirements of the spell.",
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "intelligence": { "type": "integer", "minimum": 0, "maximum": 99, "default": 0 },
                        "faith": { "type": "integer", "minimum": 0, "maximum": 99, "default": 0 },
                        "arcane": { "type": "integer", "minimum": 0, "maximum": 99, "default": 0 }
                    }
                }
            },
            "required": [
                "fp_cost", "fp_cost_extra", "sp_cost", "sp_cost_extra",
                "type", "slots_used", "hold_action", "is_weapon_buff",
                "is_shield_buff", "is_horseback_castable", "requirements"
            ]
        }
    }
}
